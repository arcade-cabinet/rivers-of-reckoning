# Render.com deployment configuration for Rivers of Reckoning
# Builds the game using pygbag for web deployment

services:
  - type: web
    name: first-python-rpg
    env: static
    buildCommand: |
      # Install build dependencies
      pip install pygame-ce pygbag
      
      # Install the project package so imports work
      pip install -e .
      
      # Create build directory
      mkdir -p build/web
      
      # Pygbag expects main.py as the entry point
      cp main_web.py main.py
      
      # Build for web using pygbag
      python -m pygbag --build build/web .
    staticPublishPath: ./build/web
